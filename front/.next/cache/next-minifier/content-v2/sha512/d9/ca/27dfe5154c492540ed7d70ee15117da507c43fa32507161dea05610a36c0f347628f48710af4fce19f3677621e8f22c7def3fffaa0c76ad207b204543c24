{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{RNiq:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__N_SSP\",(function(){return g}));var r=n(\"q1tI\"),o=n.n(r),a=n(\"/MKj\"),i=n(\"1zst\"),l=n(\"ODXe\"),c=n(\"Vl3Y\"),u=n(\"5rEg\"),f=n(\"2/Rp\"),s=n(\"p+NB\"),d=n(\"3zrx\"),m=o.a.createElement;function p(t,e){var n;if(\"undefined\"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if(\"string\"===typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&\"number\"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,i=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b=function(){var t=Object(a.c)((function(t){return t.post})),e=t.imagePaths,n=t.addPostDone,o=Object(a.b)(),i=Object(d.a)(\"\"),y=Object(l.a)(i,3),b=y[0],h=y[1],v=y[2];Object(r.useEffect)((function(){n&&v(\"\")}),[n]);var g=Object(r.useCallback)((function(){if(!b||!b.trim())return alert(\"please write the form\");var t=new FormData;e.forEach((function(e){t.append(\"image\",e)})),t.append(\"content\",b);var n,r=p(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;console.log(a)}}catch(i){r.e(i)}finally{r.f()}return o({type:s.e,data:t})}),[b,e]),w=Object(r.useRef)(),E=Object(r.useCallback)((function(){w.current.click()}),[w.current]),j=Object(r.useCallback)((function(t){console.log(\"images\",t.target.files);var e=new FormData;[].forEach.call(t.target.files,(function(t){e.append(\"image\",t)}));var n,r=p(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;console.log(a)}}catch(i){r.e(i)}finally{r.f()}o({type:s.G,data:e})}),[]),O=Object(r.useCallback)((function(t){return function(){o({type:s.v,data:t})}}));return m(c.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:g},m(u.a.TextArea,{value:b,onChange:h,maxLength:140,placeholder:\"what happened?\"}),m(\"div\",null,m(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:w,onChange:j}),m(f.a,{onClick:E},\"Image upload\"),m(f.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\"},\"Twit!\")),m(\"div\",null,e.map((function(t,e){return m(\"div\",{key:t,style:{display:\"inline-block\"}},m(\"img\",{src:\"http://localhost:3065/\".concat(t),style:{width:\"200px\"},alt:t}),m(\"div\",null,m(f.a,{onClick:O(e)},\"Delete\")))}))))},h=n(\"kduo\"),v=o.a.createElement,g=!0;e.default=function(){var t=Object(a.b)(),e=Object(a.c)((function(t){return t.user})).me,n=Object(a.c)((function(t){return t.post})),o=n.mainPosts,l=n.hasMorePost,c=n.loadPostsLoading,u=n.retweetError;return Object(r.useEffect)((function(){u&&alert(u)}),[u]),Object(r.useEffect)((function(){function e(){if(console.log(window.scrollY,document.documentElement.clientHeight,document.documentElement.scrollHeight),window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&l&&!c){var e,n=null===(e=o[o.length-1])||void 0===e?void 0:e.id;t({type:s.n,lastId:n})}}return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[l,c,o]),v(i.a,null,e&&v(b,null),o.map((function(t){return v(h.a,{key:t.id,post:t})})))}},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,1,9,2,3,5,4,6,8,7,10]]]);","map":{"version":3,"sources":["static/chunks/pages/index-4a87e06ed21c915f23fa.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","react_default","n","es","AppLayout","slicedToArray","es_form","input","es_button","reducers_post","useInput","__jsx","a","createElement","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","components_PostForm","_useSelector","state","post","imagePaths","addPostDone","dispatch","_useInput","_useInput2","text","onChangeText","setText","onSubmit","trim","alert","formData","FormData","forEach","p","append","_step","_iterator","console","log","type","data","imageInput","onClickImageUpload","current","click","onChangeImages","target","files","imageFormData","_step2","_iterator2","onRemoveImage","index","style","margin","encType","onFinish","TextArea","onChange","maxLength","placeholder","multiple","hidden","ref","onClick","float","htmlType","map","v","key","display","src","concat","width","alt","PostCard","pages_jsx","me","user","_useSelector2","mainPosts","hasMorePost","loadPostsLoading","retweetError","onScroll","scrollY","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}